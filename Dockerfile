# Base image
FROM openjdk:17-jdk-slim

# Build arguments
ARG CHATBOT_APIURL
ARG CHATBOT_SECRETKEY
ARG STT_APIURL
ARG STT_SECRETKEY
ARG TTS_APIURL
ARG TTS_APIKEYID
ARG TTS_SECRETKEY

# Print values for debugging
RUN echo "CHATBOT_APIURL: $CHATBOT_APIURL" && \
    echo "CHATBOT_SECRETKEY: $CHATBOT_SECRETKEY" && \
    echo "STT_APIURL: $STT_APIURL" && \
    echo "STT_SECRETKEY: $STT_SECRETKEY" && \
    echo "TTS_APIURL: $TTS_APIURL" && \
    echo "TTS_APIKEYID: $TTS_APIKEYID" && \
    echo "TTS_SECRETKEY: $TTS_SECRETKEY"

# 환경 변수 설정
ENV CHATBOT_APIURL=$CHATBOT_APIURL
ENV CHATBOT_SECRETKEY=$CHATBOT_SECRETKEY
ENV STT_APIURL=$STT_APIURL
ENV STT_SECRETKEY=$STT_SECRETKEY
ENV TTS_APIURL=$TTS_APIURL
ENV TTS_APIKEYID=$TTS_APIKEYID
ENV TTS_SECRETKEY=$TTS_SECRETKEY


# JAR 파일 복사 및 실행
COPY build/libs/your-application.jar /app.jar
ENTRYPOINT ["java", "-jar", "/app.jar"]
